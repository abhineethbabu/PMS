<!-- <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Invoice</title>
  <link rel="stylesheet" href="css/customer.css" />
</head>
<body>
  <div class="invoice-container">
    <h2>Payment Successful!</h2>
    <p>Booking ID: <span id="booking-id"></span></p>
    <p>Total Amount Paid: ₹<span id="paid-amount"></span></p>
    <button onclick="window.location.href='CustomerDashboard.html'">Back to Home</button>
  </div>

  <script>
    document.getElementById("booking-id").innerText = localStorage.getItem("bookingId") || "N/A";
    const booking = JSON.parse(localStorage.getItem("currentBooking")) || {};
    document.getElementById("paid-amount").innerText = booking.cost || "0.00";
  </script>
</body>
</html> -->

<!DOCTYPE html>
<html>
<head>
  <title>Parcel Invoice</title>
  <link rel="stylesheet" href="css/style.css">
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <style>
    body {
    font-family: Arial, sans-serif;
    padding: 20px;
    background-color: #f2f2f2;
    }

    .invoice-container {
    background: white;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    max-width: 600px;
    margin: auto;
    }

    .invoice-container h2 {
    text-align: center;
    margin-bottom: 20px;
    }

    .invoice-container p {
    font-size: 16px;
    margin: 8px 0;
    }

    button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 16px;
    display: block;
    margin-left: auto;
    margin-right: auto;
    cursor: pointer;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 8px;
    }

  </style>
</head>
<body>
  <div class="invoice-container">
    <h2>Parcel Booking Invoice</h2>
    <div id="invoice-content">
      <p><strong>Booking ID:</strong> <span id="bookingId"></span></p>
      <p><strong>Receiver Name:</strong> <span id="receiverName"></span></p>
      <p><strong>Receiver Address:</strong> <span id="receiverAddress"></span></p>
      <p><strong>Pin Code:</strong> <span id="pinCode"></span></p>
      <p><strong>Mobile Number:</strong> <span id="receiverContact"></span></p>
      <p><strong>Parcel Weight (g):</strong> <span id="parcelWeight"></span></p>
      <p><strong>Contents:</strong> <span id="contents"></span></p>
      <p><strong>Delivery Type:</strong> <span id="speed"></span></p>
      <p><strong>Packaging:</strong> <span id="packaging"></span></p>
      <p><strong>Pickup Time:</strong> <span id="pickupTime"></span></p>
      <p><strong>Dropoff Time:</strong> <span id="dropoffTime"></span></p>
      <p><strong>Service Cost (₹):</strong> <span id="cost"></span></p>
      <p><strong>Payment Mode:</strong> <span id="paymentMode"></span></p>
    </div>
    <!-- Button Container -->
    <div class="d-flex justify-content-center gap-3 mt-4">
      <!-- Print Button -->
      <button class="btn btn-primary" onclick="window.print()">
         Print
      </button>

      <!-- Back to Home Button -->
      <button class="btn btn-secondary" onclick="window.location.href='CustomerDashboard.html'">
         Back to Home
      </button>
    </div>

    
  </div>

  <script>
    // Get the current user
    const currentUser = JSON.parse(localStorage.getItem("currentUser"));
    if (!currentUser) {
      alert("Session expired. Please log in again.");
      window.location.href = "Login.html";
    }
    
    const latestBooking = JSON.parse(localStorage.getItem("currentBooking")) || [];
  
    if (!latestBooking || latestBooking.userId !== currentUser.userId) {
      alert("No recent booking found for invoice.");
      window.location.href = "CustomerDashboard.html";
    }
  
    // Populate invoice fields
    document.getElementById("bookingId").innerText = latestBooking.bookingId;
    document.getElementById("receiverName").innerText = latestBooking.receiverName;
    document.getElementById("receiverAddress").innerText = latestBooking.receiverAddress;
    document.getElementById("pinCode").innerText = latestBooking.pinCode;
    document.getElementById("receiverContact").innerText = latestBooking.receiverContact;
    document.getElementById("parcelWeight").innerText = latestBooking.parcelWeight;
    document.getElementById("contents").innerText = latestBooking.contents;
    document.getElementById("speed").innerText = latestBooking.speed;
    document.getElementById("packaging").innerText = latestBooking.packaging;
    document.getElementById("pickupTime").innerText = latestBooking.pickupTime;
    document.getElementById("dropoffTime").innerText = latestBooking.dropoffTime;
    document.getElementById("cost").innerText = latestBooking.cost;
    document.getElementById("paymentMode").innerText = latestBooking.paymentMode;
  </script>
  
</body>
</html>
